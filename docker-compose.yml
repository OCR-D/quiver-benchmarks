version: '3.4'

name: quiver

services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    working_dir: /app
    volumes:
      - ./src:/app/src
      - ./gt:/app/gt
      - ./workflows:/app/workflows
      # mount your modules, custom workflows and data here
      - ./models/ocrd-tesserocr-recognize:/usr/local/share/tessdata/
      - ./models/ocrd-calamari-recognize:/usr/local/share/ocrd-resources/
      # - TODO/custom/data

  mongodb:
    image: mongodb/mongodb-community-server
    ports:
      - "27017:27017"
    volumes:
      - mongo:/data/db

volumes:
  mongo:
